                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.9 #9960 (MINGW64)
                              4 ;--------------------------------------------------------
                              5 	.module screen_manager
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _devkit_SMS_addSprite
                             12 	.globl _engine_font_manager_draw_text
                             13 	.globl _engine_screen_manager_init
                             14 	.globl _engine_screen_manager_update
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 ;--------------------------------------------------------
                             19 ; ram data
                             20 ;--------------------------------------------------------
                             21 	.area _DATA
                             22 ;--------------------------------------------------------
                             23 ; ram data
                             24 ;--------------------------------------------------------
                             25 	.area _INITIALIZED
                             26 ;--------------------------------------------------------
                             27 ; absolute external ram data
                             28 ;--------------------------------------------------------
                             29 	.area _DABS (ABS)
                             30 ;--------------------------------------------------------
                             31 ; global & static initialisations
                             32 ;--------------------------------------------------------
                             33 	.area _HOME
                             34 	.area _GSINIT
                             35 	.area _GSFINAL
                             36 	.area _GSINIT
                             37 ;--------------------------------------------------------
                             38 ; Home
                             39 ;--------------------------------------------------------
                             40 	.area _HOME
                             41 	.area _HOME
                             42 ;--------------------------------------------------------
                             43 ; code
                             44 ;--------------------------------------------------------
                             45 	.area _CODE
                             46 ;screen_manager.c:8: void engine_screen_manager_init()
                             47 ;	---------------------------------
                             48 ; Function engine_screen_manager_init
                             49 ; ---------------------------------
   0000                      50 _engine_screen_manager_init::
                             51 ;screen_manager.c:10: engine_font_manager_draw_text( SPRITE_TILES_TEXT, 2, 0 );
   0000 21 02 00      [10]   52 	ld	hl, #0x0002
   0003 E5            [11]   53 	push	hl
   0004 21r0Er00      [10]   54 	ld	hl, #___str_0
   0007 E5            [11]   55 	push	hl
   0008 CDr00r00      [17]   56 	call	_engine_font_manager_draw_text
   000B F1            [10]   57 	pop	af
   000C F1            [10]   58 	pop	af
   000D C9            [10]   59 	ret
   000E                      60 ___str_0:
   000E 53 50 52 49 54 45    61 	.ascii "SPRITE TILES LOADED..."
        20 54 49 4C 45 53
        20 4C 4F 41 44 45
        44 2E 2E 2E
   0024 00                   62 	.db 0x00
                             63 ;screen_manager.c:13: void engine_screen_manager_update()
                             64 ;	---------------------------------
                             65 ; Function engine_screen_manager_update
                             66 ; ---------------------------------
   0025                      67 _engine_screen_manager_update::
   0025 DD E5         [15]   68 	push	ix
   0027 DD 21 00 00   [14]   69 	ld	ix,#0
   002B DD 39         [15]   70 	add	ix,sp
   002D F5            [11]   71 	push	af
                             72 ;screen_manager.c:24: devkit_SMS_addSprite( x + c * max, y + r * max, tile + ( r * max + c ) );
   002E 21 00 01      [10]   73 	ld	hl, #0x0100
   0031 E5            [11]   74 	push	hl
   0032 21 20 20      [10]   75 	ld	hl, #0x2020
   0035 E5            [11]   76 	push	hl
   0036 CDr00r00      [17]   77 	call	_devkit_SMS_addSprite
   0039 F1            [10]   78 	pop	af
   003A F1            [10]   79 	pop	af
                             80 ;screen_manager.c:26: for( r = 1; r < max; r++ )
   003B 0E 01         [ 7]   81 	ld	c, #0x01
   003D                      82 00107$:
   003D 79            [ 4]   83 	ld	a, c
   003E D6 08         [ 7]   84 	sub	a, #0x08
   0040 30 4A         [12]   85 	jr	NC,00102$
                             86 ;screen_manager.c:28: for( c = 0; c < max; c++ )
   0042 69            [ 4]   87 	ld	l, c
   0043 26 00         [ 7]   88 	ld	h, #0x00
   0045 29            [11]   89 	add	hl, hl
   0046 29            [11]   90 	add	hl, hl
   0047 29            [11]   91 	add	hl, hl
   0048 E3            [19]   92 	ex	(sp), hl
   0049 69            [ 4]   93 	ld	l, c
   004A 29            [11]   94 	add	hl, hl
   004B 29            [11]   95 	add	hl, hl
   004C 29            [11]   96 	add	hl, hl
   004D 7D            [ 4]   97 	ld	a, l
   004E C6 20         [ 7]   98 	add	a, #0x20
   0050 47            [ 4]   99 	ld	b, a
   0051 1E 00         [ 7]  100 	ld	e, #0x00
   0053                     101 00104$:
   0053 7B            [ 4]  102 	ld	a, e
   0054 D6 08         [ 7]  103 	sub	a, #0x08
   0056 30 31         [12]  104 	jr	NC,00108$
                            105 ;screen_manager.c:30: devkit_SMS_addSprite( x + c * max, y + r * max, tile + ( r * max + c ) );
   0058 53            [ 4]  106 	ld	d, e
   0059 26 00         [ 7]  107 	ld	h, #0x00
   005B DD 7E FE      [19]  108 	ld	a, -2 (ix)
   005E 82            [ 4]  109 	add	a, d
   005F 6F            [ 4]  110 	ld	l, a
   0060 DD 7E FF      [19]  111 	ld	a, -1 (ix)
   0063 8C            [ 4]  112 	adc	a, h
   0064 67            [ 4]  113 	ld	h, a
   0065 FD 21 00 01   [14]  114 	ld	iy, #0x0100
   0069 C5            [11]  115 	push	bc
   006A 4D            [ 4]  116 	ld	c, l
   006B 44            [ 4]  117 	ld	b, h
   006C FD 09         [15]  118 	add	iy, bc
   006E C1            [10]  119 	pop	bc
   006F D5            [11]  120 	push	de
   0070 6B            [ 4]  121 	ld	l, e
   0071 29            [11]  122 	add	hl, hl
   0072 29            [11]  123 	add	hl, hl
   0073 29            [11]  124 	add	hl, hl
   0074 D1            [10]  125 	pop	de
   0075 7D            [ 4]  126 	ld	a, l
   0076 C6 20         [ 7]  127 	add	a, #0x20
   0078 57            [ 4]  128 	ld	d, a
   0079 C5            [11]  129 	push	bc
   007A D5            [11]  130 	push	de
   007B FD E5         [15]  131 	push	iy
   007D 4A            [ 4]  132 	ld	c, d
   007E C5            [11]  133 	push	bc
   007F CDr00r00      [17]  134 	call	_devkit_SMS_addSprite
   0082 F1            [10]  135 	pop	af
   0083 F1            [10]  136 	pop	af
   0084 D1            [10]  137 	pop	de
   0085 C1            [10]  138 	pop	bc
                            139 ;screen_manager.c:28: for( c = 0; c < max; c++ )
   0086 1C            [ 4]  140 	inc	e
   0087 18 CA         [12]  141 	jr	00104$
   0089                     142 00108$:
                            143 ;screen_manager.c:26: for( r = 1; r < max; r++ )
   0089 0C            [ 4]  144 	inc	c
   008A 18 B1         [12]  145 	jr	00107$
   008C                     146 00102$:
                            147 ;screen_manager.c:36: devkit_SMS_addSprite( x + 0, y + 0, tile + 64 );
   008C 21 40 01      [10]  148 	ld	hl, #0x0140
   008F E5            [11]  149 	push	hl
   0090 21 80 20      [10]  150 	ld	hl, #0x2080
   0093 E5            [11]  151 	push	hl
   0094 CDr00r00      [17]  152 	call	_devkit_SMS_addSprite
   0097 F1            [10]  153 	pop	af
                            154 ;screen_manager.c:37: devkit_SMS_addSprite( x + 8, y + 0, tile + 65 );
   0098 21 41 01      [10]  155 	ld	hl, #0x0141
   009B E3            [19]  156 	ex	(sp),hl
   009C 21 88 20      [10]  157 	ld	hl, #0x2088
   009F E5            [11]  158 	push	hl
   00A0 CDr00r00      [17]  159 	call	_devkit_SMS_addSprite
   00A3 F1            [10]  160 	pop	af
                            161 ;screen_manager.c:38: devkit_SMS_addSprite( x + 0, y + 8, tile + 66 );
   00A4 21 42 01      [10]  162 	ld	hl, #0x0142
   00A7 E3            [19]  163 	ex	(sp),hl
   00A8 21 80 28      [10]  164 	ld	hl, #0x2880
   00AB E5            [11]  165 	push	hl
   00AC CDr00r00      [17]  166 	call	_devkit_SMS_addSprite
   00AF F1            [10]  167 	pop	af
                            168 ;screen_manager.c:39: devkit_SMS_addSprite( x + 8, y + 8, tile + 67 );
   00B0 21 43 01      [10]  169 	ld	hl, #0x0143
   00B3 E3            [19]  170 	ex	(sp),hl
   00B4 21 88 28      [10]  171 	ld	hl, #0x2888
   00B7 E5            [11]  172 	push	hl
   00B8 CDr00r00      [17]  173 	call	_devkit_SMS_addSprite
   00BB DD F9         [10]  174 	ld	sp,ix
   00BD DD E1         [14]  175 	pop	ix
   00BF C9            [10]  176 	ret
                            177 	.area _CODE
                            178 	.area _INITIALIZER
                            179 	.area _CABS (ABS)
