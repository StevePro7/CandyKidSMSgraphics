                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.9 #9960 (MINGW64)
                              4 ;--------------------------------------------------------
                              5 	.module screen_manager
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _devkit_SMS_addSprite
                             12 	.globl _engine_screen_manager_init
                             13 	.globl _engine_screen_manager_update
                             14 ;--------------------------------------------------------
                             15 ; special function registers
                             16 ;--------------------------------------------------------
                             17 ;--------------------------------------------------------
                             18 ; ram data
                             19 ;--------------------------------------------------------
                             20 	.area _DATA
                             21 ;--------------------------------------------------------
                             22 ; ram data
                             23 ;--------------------------------------------------------
                             24 	.area _INITIALIZED
                             25 ;--------------------------------------------------------
                             26 ; absolute external ram data
                             27 ;--------------------------------------------------------
                             28 	.area _DABS (ABS)
                             29 ;--------------------------------------------------------
                             30 ; global & static initialisations
                             31 ;--------------------------------------------------------
                             32 	.area _HOME
                             33 	.area _GSINIT
                             34 	.area _GSFINAL
                             35 	.area _GSINIT
                             36 ;--------------------------------------------------------
                             37 ; Home
                             38 ;--------------------------------------------------------
                             39 	.area _HOME
                             40 	.area _HOME
                             41 ;--------------------------------------------------------
                             42 ; code
                             43 ;--------------------------------------------------------
                             44 	.area _CODE
                             45 ;screen_manager.c:8: void engine_screen_manager_init()
                             46 ;	---------------------------------
                             47 ; Function engine_screen_manager_init
                             48 ; ---------------------------------
   0000                      49 _engine_screen_manager_init::
                             50 ;screen_manager.c:10: }
   0000 C9            [10]   51 	ret
                             52 ;screen_manager.c:12: void engine_screen_manager_update()
                             53 ;	---------------------------------
                             54 ; Function engine_screen_manager_update
                             55 ; ---------------------------------
   0001                      56 _engine_screen_manager_update::
   0001 DD E5         [15]   57 	push	ix
   0003 DD 21 00 00   [14]   58 	ld	ix,#0
   0007 DD 39         [15]   59 	add	ix,sp
   0009 F5            [11]   60 	push	af
                             61 ;screen_manager.c:22: for( r = 0; r < max; r++ )
   000A 0E 00         [ 7]   62 	ld	c, #0x00
   000C                      63 00107$:
   000C 79            [ 4]   64 	ld	a, c
   000D D6 06         [ 7]   65 	sub	a, #0x06
   000F 30 4B         [12]   66 	jr	NC,00109$
                             67 ;screen_manager.c:24: for( c = 0; c < max; c++ )
   0011 06 00         [ 7]   68 	ld	b,#0x00
   0013 69            [ 4]   69 	ld	l, c
   0014 60            [ 4]   70 	ld	h, b
   0015 29            [11]   71 	add	hl, hl
   0016 09            [11]   72 	add	hl, bc
   0017 29            [11]   73 	add	hl, hl
   0018 E3            [19]   74 	ex	(sp), hl
   0019 69            [ 4]   75 	ld	l, c
   001A 29            [11]   76 	add	hl, hl
   001B 09            [11]   77 	add	hl, bc
   001C 29            [11]   78 	add	hl, hl
   001D 7D            [ 4]   79 	ld	a, l
   001E C6 20         [ 7]   80 	add	a, #0x20
   0020 47            [ 4]   81 	ld	b, a
   0021 1E 00         [ 7]   82 	ld	e, #0x00
   0023                      83 00104$:
   0023 7B            [ 4]   84 	ld	a, e
   0024 D6 06         [ 7]   85 	sub	a, #0x06
   0026 30 31         [12]   86 	jr	NC,00108$
                             87 ;screen_manager.c:26: devkit_SMS_addSprite( x + c * max, y + r * max, tile + ( r * max + c ) );
   0028 53            [ 4]   88 	ld	d, e
   0029 26 00         [ 7]   89 	ld	h, #0x00
   002B DD 7E FE      [19]   90 	ld	a, -2 (ix)
   002E 82            [ 4]   91 	add	a, d
   002F 6F            [ 4]   92 	ld	l, a
   0030 DD 7E FF      [19]   93 	ld	a, -1 (ix)
   0033 8C            [ 4]   94 	adc	a, h
   0034 67            [ 4]   95 	ld	h, a
   0035 FD 21 00 01   [14]   96 	ld	iy, #0x0100
   0039 C5            [11]   97 	push	bc
   003A 4D            [ 4]   98 	ld	c, l
   003B 44            [ 4]   99 	ld	b, h
   003C FD 09         [15]  100 	add	iy, bc
   003E C1            [10]  101 	pop	bc
   003F D5            [11]  102 	push	de
   0040 6B            [ 4]  103 	ld	l, e
   0041 29            [11]  104 	add	hl, hl
   0042 19            [11]  105 	add	hl, de
   0043 29            [11]  106 	add	hl, hl
   0044 D1            [10]  107 	pop	de
   0045 7D            [ 4]  108 	ld	a, l
   0046 C6 20         [ 7]  109 	add	a, #0x20
   0048 57            [ 4]  110 	ld	d, a
   0049 C5            [11]  111 	push	bc
   004A D5            [11]  112 	push	de
   004B FD E5         [15]  113 	push	iy
   004D 4A            [ 4]  114 	ld	c, d
   004E C5            [11]  115 	push	bc
   004F CDr00r00      [17]  116 	call	_devkit_SMS_addSprite
   0052 F1            [10]  117 	pop	af
   0053 F1            [10]  118 	pop	af
   0054 D1            [10]  119 	pop	de
   0055 C1            [10]  120 	pop	bc
                            121 ;screen_manager.c:24: for( c = 0; c < max; c++ )
   0056 1C            [ 4]  122 	inc	e
   0057 18 CA         [12]  123 	jr	00104$
   0059                     124 00108$:
                            125 ;screen_manager.c:22: for( r = 0; r < max; r++ )
   0059 0C            [ 4]  126 	inc	c
   005A 18 B0         [12]  127 	jr	00107$
   005C                     128 00109$:
   005C DD F9         [10]  129 	ld	sp, ix
   005E DD E1         [14]  130 	pop	ix
   0060 C9            [10]  131 	ret
                            132 	.area _CODE
                            133 	.area _INITIALIZER
                            134 	.area _CABS (ABS)
