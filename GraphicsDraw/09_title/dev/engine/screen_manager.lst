                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.9 #9960 (MINGW64)
                              4 ;--------------------------------------------------------
                              5 	.module screen_manager
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _devkit_SMS_setTile
                             12 	.globl _devkit_SMS_setNextTileatXY
                             13 	.globl _engine_screen_manager_init
                             14 	.globl _engine_screen_manager_update
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 ;--------------------------------------------------------
                             19 ; ram data
                             20 ;--------------------------------------------------------
                             21 	.area _DATA
                             22 ;--------------------------------------------------------
                             23 ; ram data
                             24 ;--------------------------------------------------------
                             25 	.area _INITIALIZED
                             26 ;--------------------------------------------------------
                             27 ; absolute external ram data
                             28 ;--------------------------------------------------------
                             29 	.area _DABS (ABS)
                             30 ;--------------------------------------------------------
                             31 ; global & static initialisations
                             32 ;--------------------------------------------------------
                             33 	.area _HOME
                             34 	.area _GSINIT
                             35 	.area _GSFINAL
                             36 	.area _GSINIT
                             37 ;--------------------------------------------------------
                             38 ; Home
                             39 ;--------------------------------------------------------
                             40 	.area _HOME
                             41 	.area _HOME
                             42 ;--------------------------------------------------------
                             43 ; code
                             44 ;--------------------------------------------------------
                             45 	.area _CODE
                             46 ;screen_manager.c:12: void engine_screen_manager_init()
                             47 ;	---------------------------------
                             48 ; Function engine_screen_manager_init
                             49 ; ---------------------------------
   0000                      50 _engine_screen_manager_init::
                             51 ;screen_manager.c:28: draw_titile();
   0000 C3r04r00      [10]   52 	jp  _draw_titile
                             53 ;screen_manager.c:31: void engine_screen_manager_update()
                             54 ;	---------------------------------
                             55 ; Function engine_screen_manager_update
                             56 ; ---------------------------------
   0003                      57 _engine_screen_manager_update::
                             58 ;screen_manager.c:33: }
   0003 C9            [10]   59 	ret
                             60 ;screen_manager.c:35: static void draw_titile()
                             61 ;	---------------------------------
                             62 ; Function draw_titile
                             63 ; ---------------------------------
   0004                      64 _draw_titile:
   0004 DD E5         [15]   65 	push	ix
   0006 DD 21 00 00   [14]   66 	ld	ix,#0
   000A DD 39         [15]   67 	add	ix,sp
   000C F5            [11]   68 	push	af
                             69 ;screen_manager.c:37: const unsigned int *pnt = ( const unsigned int * ) game_title__tilemap__bin;
   000D 01r00r00      [10]   70 	ld	bc, #_game_title__tilemap__bin+0
   0010 33            [ 6]   71 	inc	sp
   0011 33            [ 6]   72 	inc	sp
   0012 C5            [11]   73 	push	bc
                             74 ;screen_manager.c:46: for( j = 0; j < 4; j++ )
   0013 0E 00         [ 7]   75 	ld	c, #0x00
                             76 ;screen_manager.c:48: for( i = 0; i < 26; i++ )
   0015                      77 00109$:
   0015 41            [ 4]   78 	ld	b, c
   0016 04            [ 4]   79 	inc	b
   0017 04            [ 4]   80 	inc	b
   0018 79            [ 4]   81 	ld	a, c
   0019 87            [ 4]   82 	add	a, a
   001A 81            [ 4]   83 	add	a, c
   001B 87            [ 4]   84 	add	a, a
   001C 87            [ 4]   85 	add	a, a
   001D 81            [ 4]   86 	add	a, c
   001E 87            [ 4]   87 	add	a, a
   001F 5F            [ 4]   88 	ld	e, a
   0020 16 00         [ 7]   89 	ld	d, #0x00
   0022                      90 00103$:
                             91 ;screen_manager.c:50: devkit_SMS_setNextTileatXY( x + i, y + j );
   0022 7A            [ 4]   92 	ld	a, d
   0023 C6 04         [ 7]   93 	add	a, #0x04
   0025 C5            [11]   94 	push	bc
   0026 D5            [11]   95 	push	de
   0027 C5            [11]   96 	push	bc
   0028 33            [ 6]   97 	inc	sp
   0029 F5            [11]   98 	push	af
   002A 33            [ 6]   99 	inc	sp
   002B CDr00r00      [17]  100 	call	_devkit_SMS_setNextTileatXY
   002E F1            [10]  101 	pop	af
   002F D1            [10]  102 	pop	de
   0030 C1            [10]  103 	pop	bc
                            104 ;screen_manager.c:51: devkit_SMS_setTile( *pnt + j * 26 + i );
   0031 E1            [10]  105 	pop	hl
   0032 E5            [11]  106 	push	hl
   0033 7E            [ 7]  107 	ld	a, (hl)
   0034 23            [ 6]  108 	inc	hl
   0035 66            [ 7]  109 	ld	h, (hl)
   0036 6F            [ 4]  110 	ld	l, a
   0037 19            [11]  111 	add	hl, de
   0038 7D            [ 4]  112 	ld	a, l
   0039 82            [ 4]  113 	add	a, d
   003A C5            [11]  114 	push	bc
   003B D5            [11]  115 	push	de
   003C F5            [11]  116 	push	af
   003D 33            [ 6]  117 	inc	sp
   003E CDr00r00      [17]  118 	call	_devkit_SMS_setTile
   0041 33            [ 6]  119 	inc	sp
   0042 D1            [10]  120 	pop	de
   0043 C1            [10]  121 	pop	bc
                            122 ;screen_manager.c:48: for( i = 0; i < 26; i++ )
   0044 14            [ 4]  123 	inc	d
   0045 7A            [ 4]  124 	ld	a, d
   0046 D6 1A         [ 7]  125 	sub	a, #0x1a
   0048 38 D8         [12]  126 	jr	C,00103$
                            127 ;screen_manager.c:46: for( j = 0; j < 4; j++ )
   004A 0C            [ 4]  128 	inc	c
   004B 79            [ 4]  129 	ld	a, c
   004C D6 04         [ 7]  130 	sub	a, #0x04
   004E 38 C5         [12]  131 	jr	C,00109$
   0050 DD F9         [10]  132 	ld	sp, ix
   0052 DD E1         [14]  133 	pop	ix
   0054 C9            [10]  134 	ret
                            135 ;screen_manager.c:56: static void draw_tree( unsigned char x, unsigned char y )
                            136 ;	---------------------------------
                            137 ; Function draw_tree
                            138 ; ---------------------------------
   0055                     139 _draw_tree:
   0055 DD E5         [15]  140 	push	ix
   0057 DD 21 00 00   [14]  141 	ld	ix,#0
   005B DD 39         [15]  142 	add	ix,sp
                            143 ;screen_manager.c:58: const unsigned int *pnt = ( const unsigned int * ) tree_avoid__tilemap__bin;
   005D 11r00r00      [10]  144 	ld	de, #_tree_avoid__tilemap__bin
                            145 ;screen_manager.c:60: devkit_SMS_setNextTileatXY( x + 0, y + 0 ); 	devkit_SMS_setTile( *pnt + 0 );
   0060 D5            [11]  146 	push	de
   0061 DD 66 05      [19]  147 	ld	h, 5 (ix)
   0064 DD 6E 04      [19]  148 	ld	l, 4 (ix)
   0067 E5            [11]  149 	push	hl
   0068 CDr00r00      [17]  150 	call	_devkit_SMS_setNextTileatXY
   006B F1            [10]  151 	pop	af
   006C D1            [10]  152 	pop	de
   006D 6B            [ 4]  153 	ld	l, e
   006E 62            [ 4]  154 	ld	h, d
   006F 46            [ 7]  155 	ld	b, (hl)
   0070 23            [ 6]  156 	inc	hl
   0071 4E            [ 7]  157 	ld	c, (hl)
   0072 D5            [11]  158 	push	de
   0073 C5            [11]  159 	push	bc
   0074 33            [ 6]  160 	inc	sp
   0075 CDr00r00      [17]  161 	call	_devkit_SMS_setTile
   0078 33            [ 6]  162 	inc	sp
   0079 D1            [10]  163 	pop	de
                            164 ;screen_manager.c:61: devkit_SMS_setNextTileatXY( x + 1, y + 0 ); 	devkit_SMS_setTile( *pnt + 1 );
   007A DD 4E 04      [19]  165 	ld	c, 4 (ix)
   007D 0C            [ 4]  166 	inc	c
   007E C5            [11]  167 	push	bc
   007F D5            [11]  168 	push	de
   0080 DD 46 05      [19]  169 	ld	b, 5 (ix)
   0083 C5            [11]  170 	push	bc
   0084 CDr00r00      [17]  171 	call	_devkit_SMS_setNextTileatXY
   0087 F1            [10]  172 	pop	af
   0088 D1            [10]  173 	pop	de
   0089 C1            [10]  174 	pop	bc
   008A 6B            [ 4]  175 	ld	l, e
   008B 62            [ 4]  176 	ld	h, d
   008C 7E            [ 7]  177 	ld	a, (hl)
   008D 23            [ 6]  178 	inc	hl
   008E 46            [ 7]  179 	ld	b, (hl)
   008F 47            [ 4]  180 	ld	b, a
   0090 04            [ 4]  181 	inc	b
   0091 C5            [11]  182 	push	bc
   0092 D5            [11]  183 	push	de
   0093 C5            [11]  184 	push	bc
   0094 33            [ 6]  185 	inc	sp
   0095 CDr00r00      [17]  186 	call	_devkit_SMS_setTile
   0098 33            [ 6]  187 	inc	sp
   0099 D1            [10]  188 	pop	de
   009A C1            [10]  189 	pop	bc
                            190 ;screen_manager.c:62: devkit_SMS_setNextTileatXY( x + 0, y + 1 ); 	devkit_SMS_setTile( *pnt + 2 );
   009B DD 46 05      [19]  191 	ld	b, 5 (ix)
   009E 04            [ 4]  192 	inc	b
   009F C5            [11]  193 	push	bc
   00A0 D5            [11]  194 	push	de
   00A1 C5            [11]  195 	push	bc
   00A2 33            [ 6]  196 	inc	sp
   00A3 DD 7E 04      [19]  197 	ld	a, 4 (ix)
   00A6 F5            [11]  198 	push	af
   00A7 33            [ 6]  199 	inc	sp
   00A8 CDr00r00      [17]  200 	call	_devkit_SMS_setNextTileatXY
   00AB F1            [10]  201 	pop	af
   00AC D1            [10]  202 	pop	de
   00AD C1            [10]  203 	pop	bc
   00AE 6B            [ 4]  204 	ld	l, e
   00AF 62            [ 4]  205 	ld	h, d
   00B0 7E            [ 7]  206 	ld	a, (hl)
   00B1 23            [ 6]  207 	inc	hl
   00B2 66            [ 7]  208 	ld	h, (hl)
   00B3 6F            [ 4]  209 	ld	l, a
   00B4 2C            [ 4]  210 	inc	l
   00B5 2C            [ 4]  211 	inc	l
   00B6 C5            [11]  212 	push	bc
   00B7 D5            [11]  213 	push	de
   00B8 7D            [ 4]  214 	ld	a, l
   00B9 F5            [11]  215 	push	af
   00BA 33            [ 6]  216 	inc	sp
   00BB CDr00r00      [17]  217 	call	_devkit_SMS_setTile
   00BE 33            [ 6]  218 	inc	sp
   00BF D1            [10]  219 	pop	de
   00C0 C1            [10]  220 	pop	bc
                            221 ;screen_manager.c:63: devkit_SMS_setNextTileatXY( x + 1, y + 1 ); 	devkit_SMS_setTile( *pnt + 3 );
   00C1 D5            [11]  222 	push	de
   00C2 C5            [11]  223 	push	bc
   00C3 CDr00r00      [17]  224 	call	_devkit_SMS_setNextTileatXY
   00C6 F1            [10]  225 	pop	af
   00C7 E1            [10]  226 	pop	hl
   00C8 4E            [ 7]  227 	ld	c, (hl)
   00C9 23            [ 6]  228 	inc	hl
   00CA 46            [ 7]  229 	ld	b, (hl)
   00CB 41            [ 4]  230 	ld	b, c
   00CC 04            [ 4]  231 	inc	b
   00CD 04            [ 4]  232 	inc	b
   00CE 04            [ 4]  233 	inc	b
   00CF C5            [11]  234 	push	bc
   00D0 33            [ 6]  235 	inc	sp
   00D1 CDr00r00      [17]  236 	call	_devkit_SMS_setTile
   00D4 33            [ 6]  237 	inc	sp
   00D5 DD E1         [14]  238 	pop	ix
   00D7 C9            [10]  239 	ret
                            240 	.area _CODE
                            241 	.area _INITIALIZER
                            242 	.area _CABS (ABS)
