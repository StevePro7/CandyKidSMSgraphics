                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.9 #9960 (MINGW64)
                              4 ;--------------------------------------------------------
                              5 	.module screen_manager
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _devkit_SMS_setTile
                             12 	.globl _devkit_SMS_setNextTileatXY
                             13 	.globl _engine_screen_manager_init
                             14 	.globl _engine_screen_manager_update
                             15 ;--------------------------------------------------------
                             16 ; special function registers
                             17 ;--------------------------------------------------------
                             18 ;--------------------------------------------------------
                             19 ; ram data
                             20 ;--------------------------------------------------------
                             21 	.area _DATA
                             22 ;--------------------------------------------------------
                             23 ; ram data
                             24 ;--------------------------------------------------------
                             25 	.area _INITIALIZED
                             26 ;--------------------------------------------------------
                             27 ; absolute external ram data
                             28 ;--------------------------------------------------------
                             29 	.area _DABS (ABS)
                             30 ;--------------------------------------------------------
                             31 ; global & static initialisations
                             32 ;--------------------------------------------------------
                             33 	.area _HOME
                             34 	.area _GSINIT
                             35 	.area _GSFINAL
                             36 	.area _GSINIT
                             37 ;--------------------------------------------------------
                             38 ; Home
                             39 ;--------------------------------------------------------
                             40 	.area _HOME
                             41 	.area _HOME
                             42 ;--------------------------------------------------------
                             43 ; code
                             44 ;--------------------------------------------------------
                             45 	.area _CODE
                             46 ;screen_manager.c:11: void engine_screen_manager_init()
                             47 ;	---------------------------------
                             48 ; Function engine_screen_manager_init
                             49 ; ---------------------------------
   0000                      50 _engine_screen_manager_init::
                             51 ;screen_manager.c:13: draw_titile();
   0000 C3r04r00      [10]   52 	jp  _draw_titile
                             53 ;screen_manager.c:16: void engine_screen_manager_update()
                             54 ;	---------------------------------
                             55 ; Function engine_screen_manager_update
                             56 ; ---------------------------------
   0003                      57 _engine_screen_manager_update::
                             58 ;screen_manager.c:18: }
   0003 C9            [10]   59 	ret
                             60 ;screen_manager.c:20: static void draw_titile()
                             61 ;	---------------------------------
                             62 ; Function draw_titile
                             63 ; ---------------------------------
   0004                      64 _draw_titile:
   0004 DD E5         [15]   65 	push	ix
   0006 DD 21 00 00   [14]   66 	ld	ix,#0
   000A DD 39         [15]   67 	add	ix,sp
   000C F5            [11]   68 	push	af
                             69 ;screen_manager.c:22: const unsigned int *pnt = ( const unsigned int * ) game_title__tilemap__bin;
   000D 01r00r00      [10]   70 	ld	bc, #_game_title__tilemap__bin+0
   0010 33            [ 6]   71 	inc	sp
   0011 33            [ 6]   72 	inc	sp
   0012 C5            [11]   73 	push	bc
                             74 ;screen_manager.c:30: for( j = 0; j < 4; j++ )
   0013 0E 00         [ 7]   75 	ld	c, #0x00
                             76 ;screen_manager.c:32: for( i = 0; i < 26; i++ )
   0015                      77 00109$:
   0015 41            [ 4]   78 	ld	b, c
   0016 04            [ 4]   79 	inc	b
   0017 04            [ 4]   80 	inc	b
   0018 79            [ 4]   81 	ld	a, c
   0019 87            [ 4]   82 	add	a, a
   001A 81            [ 4]   83 	add	a, c
   001B 87            [ 4]   84 	add	a, a
   001C 87            [ 4]   85 	add	a, a
   001D 81            [ 4]   86 	add	a, c
   001E 87            [ 4]   87 	add	a, a
   001F 5F            [ 4]   88 	ld	e, a
   0020 16 00         [ 7]   89 	ld	d, #0x00
   0022                      90 00103$:
                             91 ;screen_manager.c:34: devkit_SMS_setNextTileatXY( x + i, y + j );
   0022 7A            [ 4]   92 	ld	a, d
   0023 C6 04         [ 7]   93 	add	a, #0x04
   0025 C5            [11]   94 	push	bc
   0026 D5            [11]   95 	push	de
   0027 C5            [11]   96 	push	bc
   0028 33            [ 6]   97 	inc	sp
   0029 F5            [11]   98 	push	af
   002A 33            [ 6]   99 	inc	sp
   002B CDr00r00      [17]  100 	call	_devkit_SMS_setNextTileatXY
   002E F1            [10]  101 	pop	af
   002F D1            [10]  102 	pop	de
   0030 C1            [10]  103 	pop	bc
                            104 ;screen_manager.c:35: devkit_SMS_setTile( *pnt + j * 26 + i );
   0031 E1            [10]  105 	pop	hl
   0032 E5            [11]  106 	push	hl
   0033 7E            [ 7]  107 	ld	a, (hl)
   0034 23            [ 6]  108 	inc	hl
   0035 66            [ 7]  109 	ld	h, (hl)
   0036 6F            [ 4]  110 	ld	l, a
   0037 19            [11]  111 	add	hl, de
   0038 7D            [ 4]  112 	ld	a, l
   0039 82            [ 4]  113 	add	a, d
   003A C5            [11]  114 	push	bc
   003B D5            [11]  115 	push	de
   003C F5            [11]  116 	push	af
   003D 33            [ 6]  117 	inc	sp
   003E CDr00r00      [17]  118 	call	_devkit_SMS_setTile
   0041 33            [ 6]  119 	inc	sp
   0042 D1            [10]  120 	pop	de
   0043 C1            [10]  121 	pop	bc
                            122 ;screen_manager.c:32: for( i = 0; i < 26; i++ )
   0044 14            [ 4]  123 	inc	d
   0045 7A            [ 4]  124 	ld	a, d
   0046 D6 1A         [ 7]  125 	sub	a, #0x1a
   0048 38 D8         [12]  126 	jr	C,00103$
                            127 ;screen_manager.c:30: for( j = 0; j < 4; j++ )
   004A 0C            [ 4]  128 	inc	c
   004B 79            [ 4]  129 	ld	a, c
   004C D6 04         [ 7]  130 	sub	a, #0x04
   004E 38 C5         [12]  131 	jr	C,00109$
   0050 DD F9         [10]  132 	ld	sp, ix
   0052 DD E1         [14]  133 	pop	ix
   0054 C9            [10]  134 	ret
                            135 	.area _CODE
                            136 	.area _INITIALIZER
                            137 	.area _CABS (ABS)
